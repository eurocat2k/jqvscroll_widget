$((function(){let lastOpenedCFL,top1,top2,left1,left2,$cfl1,$cfl2;console.log("Ready..."),top1=parseInt(Math.random()*$(".wrapper").height()/2),left1=parseInt(Math.random()*$(".wrapper").width()/2),top2=parseInt(Math.random()*$(".wrapper").height()/2),left2=parseInt(Math.random()*$(".wrapper").width()/2),$("#box1").hasClass("dragged")||$("#box1").css({top:top1,left:left1}),$("#box2").hasClass("dragged")||$("#box2").css({top:top2,left:left2}),$("#box1 .cfl").vscroller({step:5,min:280,max:410,selected:340,autoOpen:!0,onChange:function(data){console.log(`Executed user's callback function with param ${data}`)},onOpened:function(data){lastOpenedCFL=data,console.log("Executed onOpened callback",$(data))}}).vscroller({opermin:300,opermax:380,selected:340,visible:7,longClick:250}).on("executeOpenedCB",(function(ev,cb){return console.log("Open cb called",$(cb)),!1})),$("#box2 .cfl").vscroller({step:5,min:280,max:410,selected:340,autoOpen:!0,onChange:function(data){console.log(`Executed user's callback function with param ${data}`)},onOpened:function(data){lastOpenedCFL=data,console.log("Executed onOpened callback",$(data))}}).vscroller({opermin:385,selected:390,visible:7,longClick:230}),$("#box1").draggable({cancel:".cfl",start:function(ev,ui){$(this).addClass("dragged")},stop:function(ev,ui){let position=$(this).offset();$(this).appendTo(".wrapper").css(position)}}).on("mousedown",(function(ev){ev.preventDefault(),lastOpenedCFL&&lastOpenedCFL!==this&&$(lastOpenedCFL).vscroller("close");let position=$(this).offset();$(this).appendTo(".wrapper").css(position),$(this).css({"z-index":999})})),$("#box2").draggable({cancel:".cfl",start:function(ev,ui){$(this).addClass("dragged")},stop:function(ev,ui){let position=$(this).offset();$(this).appendTo(".wrapper").css(position)}}).on("mousedown",(function(ev){ev.preventDefault(),lastOpenedCFL&&lastOpenedCFL!==this&&$(lastOpenedCFL).vscroller("close");let position=$(this).offset();$(this).appendTo(".wrapper").css(position),$(this).css({"z-index":999})}))}));