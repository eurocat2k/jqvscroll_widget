!function($,window,document,undefined){console.log("Plugin added into jQuery...");const defaults_min=0,defaults_max=660,defaults_step=5,defaults_minStep=1,defaults_maxStep=10,defaults_visible=7,defaults_minVisible=5,defaults_maxVisible=11,defaults_autoOpen=!1,defaults_minLongPressTimeOut=250,defaults_maxLongPressTimeOut=550,defaults_longPressTimeOut=300,defaults_focused="first",defaults_animate=!1,defaults_delay=25,cssNoSelect={"-webkit-user-select":"none","-ms-user-select":"none","user-select":"none"},cssVsItemSelected={display:"flex","justify-content":"center","align-items":"center",width:"var(--vsItemWidth)",height:"var(--vsItemHeight)","background-color":"var(--vsItemBGColorSelected)",color:"var(--vsItemColorSelected)"},cssVsItemNormal={display:"flex","justify-content":"center",width:"var(--vsItemWidth)",height:"var(--vsItemHeight)","background-color":"var(--vsItemBGColor)","font-size":"var(--vsFontSize)","font-weight":"var(--vsFontWeight)",color:"var(--vsItemColor)"},cssVsItemDisabled={display:"flex","justify-content":"center",width:"var(--vsItemWidth)",height:"var(--vsItemHeight)","background-color":"var(--vsItemUnSelectableBGColor)","font-size":"var(--vsFontSize)","font-weight":"var(--vsFontWeight)",color:"var(--vsItemUnSelectableColor)"},cssVsItemHover={"background-color":"var(--vsItemBGColorHover)",color:"var(--vsItemColorHover)"},cssVsItemSelectedHover={"background-color":"var(--vsItemBGColorHoverSelected)",color:"var(--vsItemColorHoverSelected)"};function onHover(ev){let tgt=ev.target;switch(ev.type){case"mouseover":$(tgt).hasClass("vs_selected")?$(tgt).css(cssVsItemSelectedHover):$(tgt).css(cssVsItemHover);break;case"mouseout":$(tgt).hasClass("vs_selected")?$(tgt).css(cssVsItemSelected):$(tgt).css(cssVsItemNormal)}}function roundInt(v,n){try{let _v,_n,_low,_high;if(void 0!==v&&void 0!==n){if(Number.isFinite(v)&&Number.isFinite(n))return Number.isInteger(v)&&Number.isInteger(n)?(_v=v,_n=n):(_v=v+.5>>0,_n=n+.5>>0),_low=Math.floor(_v/_n)*_n,_high=Math.ceil(_v/_n)*_n,Math.abs(_v-_low)<Math.abs(_v-_high)?_low:_high;throw new Error("Either one argument is not Number/Integer...")}throw new Error("Invalid or missing arguments for function: _roundInt( value: {Integer}, rounding: {Integer});")}catch(error){console.error(error)}}function stepUpdate(ev,data){let self=this,min,max,step,count;step=roundInt(data.step,1),step=step<defaults_minStep?defaults_minStep:step,step>=defaults_minStep&&step<=defaults_maxStep&&(self.options.count=(self.options.max-self.options.min)/step,self.options.count>=self.options.visible&&(self.options.step=step))}function minUpdate(ev,data){let self=this,value=roundInt(data.min,self.options.step),count=(self.options.max-value)/self.options.step;count>self.options.visible&&(self.options.count=count,value+self.options.visible*self.options.step<self.options.max&&value>=defaults_min&&(self.options.min=value,self.options.operMin=value))}function maxUpdate(ev,data){let self=this,value=roundInt(data.max,self.options.step),count=(value-self.options.min)/self.options.step;count>self.options.visible&&(self.options.count=count,value-self.options.visible*self.options.step>self.options.min&&value<=defaults_max&&(self.options.max=value,self.options.operMax=value))}function visibleUpdate(ev,data){let self=this;this.options.visible=data.visible}function autoOpenUpdate(ev,data){let self=this;this.options.autoOpen=data.autoOpen}function animateUpdate(ev,data){let self=this;this.options.animate=data.animate}function selectTimeOut(ev,data){let self=this;this.options.longPressTimeOut=data.selectTimeOut}function disableContextMenu(ev){let self=this,type=ev.type,tgt=ev.target;return ev.preventDefault(),$(ev.target).hasClass("cfl_vsitem")&&self&&self.hide(),!1}function longPress(e,data){let self=this;e.preventDefault(),e.stopPropagation();let type=e.type,tgt=e.target;switch(type){case"mousedown":if(2===e.button)return tgt!==$(self.options.dom.cfl_static_value).get(0)&&(self.hide(),!1);self.options.pressTimer=window.setTimeout((function(){return tgt===$(self.options.dom.cfl_static_value).get(0)&&self.show(),!1}),self.options.longPressTimeOut);break;case"mouseup":e.preventDefault(),clearTimeout(self.options.pressTimer)}return self}function selectCFL(e,data){let self=this;e.preventDefault(),e.stopPropagation();let type=e.type,tgt=e.target;switch(type){case"mousedown":if(2===e.button)return tgt!==$(self.options.dom.cfl_static_value).get(0)&&function(){return self.element.trigger("_hide"),!1};self.options.pressTimer=window.setTimeout((function(){return tgt===$(self.options.dom.cfl_static_value).get(0)?self.show():!1===self.options.selectInitiated&&self.element.trigger("onSelect",{cfl:$(tgt).data("cfl")}),!1}),self.options.longPressTimeOut);break;case"mouseup":e.preventDefault(),clearTimeout(self.options.pressTimer),self.options.selectInitiated=!1}return self}function onSelect(ev,data){let self=this;return!1===self.options.selectInitiated&&(self.options.selectInitiated=!0,self.options.autoOpen&&(self.options.autoOpen=!1),self.hide(),self.options.selected=parseInt(data.cfl),self.options.onChange&&"function"==typeof self.options.onChange&&self.options.onChange(self.options.selected),self._refresh()),!1}function selectedUpdate(ev,data){let self=this,value=parseInt(data.selected);return console.log("Selected CFL updating...",value,self.options.operMin,self.options.operMax),value>=self.options.operMin&&value<=self.options.operMax&&(self.options.selected=value,console.log("Selected CFL updating...",self.options.selected)),!1}function focusedUpdate(ev,data){let self=this;this.options.focused=data.focused}function scrollMouseWheel(ev){let self=this,evt=window.event||ev;evt=evt.originalEvent?evt.originalEvent:evt;var delta=evt.detail?30*evt.detail:evt.wheelDelta;let level=$(self.options.divT).text(),centerPos=$(self.options.dom.cfl_vscontainer).height()/2-$(self.options.dom.cfl_vstrip).children(1).height()/2;if(delta<0){if(level>self.options.min){let scrollTo;self.options.divT=$(self.options.divT).next();var position=$(self.options.divT).offset().top-$(self.options.dom.cfl_vscontainer).offset().top+$(self.options.dom.cfl_vscontainer).scrollTop();self.options.animate?$(self.options.dom.cfl_vscontainer).animate({scrollTop:position-centerPos},self.options.delay):$(self.options.dom.cfl_vscontainer).scrollTop(position-centerPos)}}else if(level<self.options.max){let scrollTo;self.options.divT=$(self.options.divT).prev();var position=$(self.options.divT).offset().top-$(self.options.dom.cfl_vscontainer).offset().top+$(self.options.dom.cfl_vscontainer).scrollTop();self.options.animate?$(self.options.dom.cfl_vscontainer).animate({scrollTop:position-centerPos},self.options.delay):$(self.options.dom.cfl_vscontainer).scrollTop(position-centerPos)}return!1}function operMinUpdate(ev,data){let self=this;this.options.operMin=data.opermin}function operMaxUpdate(ev,data){let self=this;this.options.operMax=data.opermax}function executeCB(ev,data){let self=this;this.options.onChange=data.cb,data.cb(this.options.selected)}$.widget("namespace.vscroller",{widgetName:"vscroller",version:"1.0.0",options:{min:defaults_min,max:defaults_max,step:defaults_step,visible:defaults_visible,selected:void 0,count:0,autoOpen:!1,longPressTimer:void 0,longPressTimeOut:defaults_longPressTimeOut,selectInitiated:!1,dom:{element:void 0,cfl_container:void 0,cfl_static_value:void 0,cfl_vscontainer:void 0,cfl_vstrip:void 0},focused:defaults_focused,divT:void 0,animate:defaults_animate,delay:defaults_delay,operMin:defaults_min,operMax:defaults_max,onChange:function(){}},_create:function(){let self=this;$(":root").css({"--vsFontFamily":"Arial, Helvetica, sans-serif","--vsFontSize":"14px","--vsFontWeight":500,"--vsFontWeightBold":600,"--vsFontWeightThin":400,"--vsItemHeight":"16px","--vsItemWidth":"40px","--vsItemBGColor":"rgba(228, 227, 220, .9)","--vsItemColor":"rgb(0, 0, 0)","--vsItemUnSelectableBGColor":"rgba(161, 161, 161, 0.9)","--vsItemUnSelectableColor":"rgb(51, 43, 43)","--vsItemBGColorSelected":"rgb(0, 117, 226)","--vsItemColorSelected":"rgb(253, 253, 250)","--vsItemBGColorHover":"rgb(250, 212, 0)","--vsItemColorHover":"rgb(38, 43, 53)","--vsItemBGColorHoverSelected":"rgb(0, 129, 50)","--vsItemColorHoverSelected":"rgb(255, 255, 255)","--vsVisibleItems":7,"--vsStripBG":"rgba(228, 227, 220, .9)"}),this._construct()},destroy:function(){$.Widget.prototype.destroy.apply(this,arguments)},_focus:function(){try{let self=this,divT;if($vsContainer=$(self.options.dom.cfl_vscontainer),$cfl_vscontainer=$(self.options.dom.cfl_vscontainer),$stripList=$vsContainer.find(self.options.dom.cfl_vstrip),self.options.selected){if($scrollTo=$stripList.find(".vs_selected"),$selected=$(self.options.dom.cfl_vscontainer).find(".vs_selected").index(),$selected<0){let _newValue=roundInt(self.options.selected,self.options.step);self.options.selected=_newValue,$elem=$stripList.find(`div:contains(${_newValue})`);let index=$elem.index()+1;$scrollTo=$stripList.children(`:nth-child(${index})`),$scrollTo.addClass("vs_selected"),divT=self.options.divT=$stripList.find(".vs_selected")}}else self.options.focused.match(/first/g)?($scrollTo=$stripList.children().first(),divT=self.options.divT=$stripList.children().first()):self.options.focused.match(/last/g)&&($scrollTo=$stripList.children().last(),divT=self.options.divT=$stripList.children().last());let centerPos=$cfl_vscontainer.height()/2-$stripList.children(1).height()/2;var position=$scrollTo.offset().top-$cfl_vscontainer.offset().top+$cfl_vscontainer.scrollTop();return self.options.animate?$vsContainer.animate({scrollTop:position-centerPos},500):$vsContainer.scrollTop(position-centerPos),0}catch(error){console.log(error)}},show:function(){let self=this;$(this.options.dom.cfl_vscontainer).show(),this._focus()},open:function(){let self=this;$(this.options.dom.cfl_vscontainer).show(),this._focus()},hide:function(){let self=this;$(this.options.dom.cfl_vscontainer).hide()},close:function(){let self=this;$(this.options.dom.cfl_vscontainer).hide()},_construct:function(){let self=this;self.options.dom.element=self.element;let mousewheelevt=/Firefox/i.test(navigator.userAgent)?"DOMMouseScroll":"mousewheel",_elem;$(".cfl_vstrip").get(0)&&($(".cfl_vstrip").children().each((function(i,e){$(e).off("mouseover",onHover),$(e).off("mouseoout",onHover),$(e).off("mousedown",selectCFL),$(e).off("mouseup",selectCFL),$(e).off("contextmenu",disableContextMenu),$(e).off("onSelect",disableContextMenu)})),$(self.options.dom.cfl_vscontainer).get(0).removeEventListener(mousewheelevt,scrollMouseWheel),$(self.element).off({stepUpdate:stepUpdate,minUpdate:minUpdate,maxUpdate:maxUpdate,visibleUpdate:visibleUpdate,autoOpenUpdate:autoOpenUpdate,selectTimeOut:selectTimeOut,contextmenu:disableContextMenu,_hide:disableContextMenu,selectedUpdate:selectedUpdate,focusedUpdate:focusedUpdate,animateUpdate:animateUpdate,operMinUpdate:operMinUpdate,operMaxUpdate:operMaxUpdate}),$(self.options.dom.cfl_static_value).off({mouseup:longPress,mousedown:longPress}),$(self.element).empty(),$(":root").css("--vsVisibleItems",self.options.visible)),$(self.options.dom.element).append('<div class="cfl_container" style="display: flex; justify-content: center;"><div class="cfl_static_value">000</div><div class="cfl_vscontainer" style="position: absolute; border: solid 1px black; width: var(--vsItemWidth); height: calc(var(--vsVisibleItems) * var(--vsItemHeight)); overflow: hidden; display: flex; justify-content: center;"><div class="cfl_vstrip" style="width: var(--vsItemWidth); position: absolute;display: flex; flex-direction: column; align-items: center; background-color: var(--vsStripBG);" ></div></div></div>');for(let v=self.options.max;v>=self.options.min;v-=self.options.step)v>=self.options.operMin&&v<=self.options.operMax?(_elem=$(`<div class="cfl_vsitem" data-cfl="${v.toString(10).padStart(3,"0")}">${v.toString(10).padStart(3,"0")}</div>`),self.options.selected&&parseInt(self.options.selected)===v?($(_elem).addClass("vs_selected"),$(_elem).css(cssVsItemSelected)):$(_elem).css(cssVsItemNormal),_elem.on("mouseover",onHover).on("mouseout",onHover),_elem.on("mousedown",selectCFL.bind(self)).on("mouseup",selectCFL.bind(self))):(_elem=$(`<div class="cfl_vsitem" data-cfl="${v.toString(10).padStart(3,"0")}">${v.toString(10).padStart(3,"0")}</div>`),$(_elem).addClass("vs_disabled"),$(_elem).css(cssVsItemDisabled)),_elem.on("contextmenu",disableContextMenu.bind(self)),$(".cfl_vstrip").append(_elem),$(self.options.dom.element).css(cssNoSelect),self.options.dom.cfl_container=$(self.options.dom.element).find(".cfl_container"),self.options.dom.cfl_static_value=$(self.options.dom.element).find(".cfl_static_value"),self.options.dom.cfl_vscontainer=$(self.options.dom.element).find(".cfl_vscontainer"),self.options.dom.cfl_vstrip=$(self.options.dom.element).find(".cfl_vstrip");self.element.on({stepUpdate:stepUpdate.bind(self),minUpdate:minUpdate.bind(self),maxUpdate:maxUpdate.bind(self),visibleUpdate:visibleUpdate.bind(self),autoOpenUpdate:autoOpenUpdate.bind(self),selectTimeOut:selectTimeOut.bind(self),contextmenu:disableContextMenu.bind(self),_hide:disableContextMenu.bind(self),onSelect:onSelect.bind(self),selectedUpdate:selectedUpdate.bind(self),focusedUpdate:focusedUpdate.bind(self),animateUpdate:animateUpdate.bind(self),operMinUpdate:operMinUpdate.bind(self),operMaxUpdate:operMaxUpdate.bind(self),executeCB:executeCB.bind(self)}),$(self.options.dom.cfl_static_value).on("mouseup",longPress.bind(self)).on("mousedown",longPress.bind(self)),self.options.divT=$(self.options.dom.cfl_vscontainer).find(".vs_selected"),$(self.options.dom.cfl_vscontainer).get(0).addEventListener(mousewheelevt,scrollMouseWheel.bind(self),{capture:!0,passive:!0}),self.options.selected&&$(self.options.dom.cfl_static_value).text(self.options.selected.toString(10).padStart(3,"0")),!1===self.options.autoOpen&&self.hide()},_refresh:function(){let self=this;this._construct()},_setOption:function(key,value){let self=this;switch(console.log({_setOption:{key:key,value:value}}),key){case"step":Number.isInteger(value)&&(value!==defaults_minStep&&value!==defaults_step&&value!==defaults_maxStep||self.element.trigger("stepUpdate",{step:value}));break;case"max":case"min":Number.isInteger(value)&&value>=defaults_min&&value<=defaults_max&&(key.match(/^min$/)?self.element.trigger("minUpdate",{min:value}):key.match(/^max$/)&&self.element.trigger("maxUpdate",{max:value}));break;case"opermax":case"opermin":Number.isInteger(value)&&value>=self.options.min&&value<=self.options.max&&(key.match(/^opermin$/)?self.element.trigger("operMinUpdate",{opermin:value}):key.match(/^opermax$/)&&self.element.trigger("operMaxUpdate",{opermax:value}));break;case"visible":Number.isInteger(value)&&(value!==defaults_minVisible&&value!==defaults_visible&&value!==defaults_maxVisible||self.element.trigger("visibleUpdate",{visible:value}));break;case"autoOpen":"boolean"==typeof value?self.element.trigger("autoOpenUpdate",{autoOpen:value}):self.element.trigger("autoOpenUpdate",{autoOpen:!1});break;case"animate":"boolean"==typeof value?self.element.trigger("animateUpdate",{animate:value}):self.element.trigger("animateUpdate",{animate:!1});break;case"longClick":Number.isInteger(value)&&value>=defaults_minLongPressTimeOut&&value<=defaults_maxLongPressTimeOut&&self.element.trigger("selectTimeOut",{selectTimeOut:value});break;case"selected":Number.isInteger(value)&&value>=self.options.min&&value<=self.options.max&&(console.log(`self.element.trigger("selectedUpdate", {selected: ${value}});`),self.element.trigger("selectedUpdate",{selected:value}));break;case"focused":"string"==typeof value&&(value.match(/^first$/)||value.match(/^last$/)?self.element.trigger("focusedUpdate",{focused:value.toLowerCase()}):self.element.trigger("focusedUpdate",{focused:defaults_focused}));break;case"onChange":"function"==typeof value&&self.element.trigger("executeCB",{cb:value})}},_setOptions:function(opts){console.log({opts:opts});let self=this;opts&&"object"==typeof opts&&(opts.visible&&self._setOption("visible",opts.visible),opts.step&&self._setOption("step",opts.step),opts.min&&self._setOption("min",opts.min),opts.max&&self._setOption("max",opts.max),opts.opermin&&self._setOption("opermin",opts.opermin),opts.opermax&&self._setOption("opermax",opts.opermax),opts.autoOpen&&self._setOption("autoOpen",opts.autoOpen),opts.selected&&self._setOption("selected",opts.selected),opts.animate&&self._setOption("animate",opts.animate),opts.longClick&&self._setOption("longClick",opts.longClick),opts.onChange&&self._setOption("onChange",opts.onChange)),self._refresh()}})}(jQuery,window,document);